<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Items | Pawa Admin</title>
    <link rel="stylesheet" href="../css/admin.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.snow.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
  </head>
  <body class="dashboard-body">
    <admin-header></admin-header>

    <main class="main-content">
      <div id="loadingIndicator" class="loading-indicator">
        <i class="fas fa-spinner fa-spin"></i> Loading...
      </div>
      <section id="add-items" class="page active">
        <h2>Add New Product</h2>
        <div id="form-skeleton" class="skeleton-loader">
          <div class="skeleton-box"></div>
          <div class="skeleton-box"></div>
          <div class="skeleton-box"></div>
          <div class="skeleton-box"></div>
          <div class="skeleton-box"></div>
          <div class="skeleton-box"></div>
          <div class="skeleton-box full-width" style="height: 100px"></div>
          <div class="skeleton-box full-width" style="height: 200px"></div>
          <div class="skeleton-box full-width" style="height: 50px"></div>
        </div>
        <form id="addProductForm" class="form-grid" style="display: none">
          <div class="form-group">
            <label for="productName">Product Name</label>
            <input
              type="text"
              id="productName"
              placeholder="e.g., Samsung S23"
              required
            />
          </div>
          <div class="form-group">
            <label for="productBrand">Brand</label>
            <input
              type="text"
              id="productBrand"
              placeholder="e.g., Samsung"
              required
            />
          </div>
          <div class="form-group">
            <label for="productPrice">Price (KES)</label>
            <input
              type="number"
              id="productPrice"
              placeholder="e.g., 85000"
              required
              min="0"
              step="any"
            />
          </div>
          <div class="form-group">
            <label for="productImage">Product Image</label>
            <input type="file" id="productImage" accept="image/*" required />
          </div>
          <div class="form-group">
            <label for="isFeatured">Featured</label>
            <input type="checkbox" id="isFeatured" />
          </div>
          <div class="form-group">
            <label for="productStock">Stock Quantity</label>
            <input
              type="number"
              id="productStock"
              placeholder="e.g., 5"
              min="0"
              required
            />
          </div>
          <div class="form-group full-width">
            <label for="productDescription">Short Description</label>
            <textarea
              id="productDescription"
              placeholder="A brief summary of the product..."
            ></textarea>
          </div>
          <div class="form-group full-width">
            <label>Rich Description</label>
            <div id="rich-editor"></div>
          </div>
          <div class="form-group full-width">
            <label for="tagInput">Keywords (Tags)</label>
            <div class="tags-container">
              <input
                type="text"
                id="tagInput"
                class="tag-input"
                placeholder="Press Enter to add tags..."
              />
            </div>
          </div>
          <div
            id="inventoryFields"
            class="form-group full-width"
            style="display: none"
          >
            <h4>Inventory Details</h4>
            <div id="inventoryContainer" class="inventory-container"></div>
          </div>
          <button type="submit" class="btn btn--primary full-width">
            Add Product
          </button>
        </form>
      </section>

      <div id="scanner-modal" class="modal">
        <div class="modal-content scanner-modal-content">
          <span class="close" id="scanner-close">&times;</span>
          <video id="reader" width="100%"></video>
          <div class="scanner-status">Scanning with local camera...</div>
          <button
            type="button"
            id="toggle-scanner-btn"
            class="btn btn--secondary"
          >
            Switch to Phone Scanner
          </button>
        </div>
      </div>
    </main>

    <admin-popup></admin-popup>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.min.js"></script>
    <script type="module" src="../js-components/admin-header.js" defer></script>
    <script type="module" src="../js-components/admin-popup.js" defer></script>
    <script type="module" src="../js/utils/alert.js" defer></script>
    <script type="module" src="../js/add-item.js" defer></script>
  </body>
</html>
